<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    document.addEventListener('frame-courier-ready', function ()
    {
      document.querySelector('#txt').innerText = 'this frame has courier ' + FrameCourier.name();
    });
  </script>
  <script src="/dist/frame-courier.min.js"></script>
  <script>
    function addMsg(text)
    {
      var p = document.createElement('p');
      p.innerText = text;
      document.querySelector('#msgs').appendChild(p);
    }

    FrameCourier.listen('message', function (pl, respond)
    {
      addMsg('received message ' + JSON.stringify(pl));
      respond('thanks from ' + FrameCourier.name());
    });
  </script>
</head>
<body>
<div id="txt">this frame has courier</div>
<div>Target: <input id="target" type="text"/></div>
<div>Message: <input id="msg" type="text"/></div>
<button id="sendbtn">Send</button>
<hr/>
<div id="msgs"></div>
<script>
  document.querySelector('#sendbtn').addEventListener('click', function ()
  {
    FrameCourier.send(
      document.querySelector('#target').value,
      'message',
      document.querySelector('#msg').value,
      function (pl)
      {
        addMsg('received response ' + JSON.stringify(pl));
      }
    )
  });
</script>
</body>
</html>