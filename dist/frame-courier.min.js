!function(){"use strict";function e(e,n,t){var o,r,i,a,u;function c(){var l=Date.now()-a;l<n&&l>=0?o=setTimeout(c,n-l):(o=null,t||(u=e.apply(i,r),i=r=null))}null==n&&(n=100);var l=function(){i=this,r=arguments,a=Date.now();var l=t&&!o;return o||(o=setTimeout(c,n)),l&&(u=e.apply(i,r),i=r=null),u};return l.clear=function(){o&&(clearTimeout(o),o=null)},l.flush=function(){o&&(u=e.apply(i,r),i=r=null,clearTimeout(o),o=null)},l}e.debounce=e;var n=e;function t(e,n){var t,o;if(0===n.length)return e;for(t=0,o=n.length;t<o;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return e<0?-2*e:e}function o(e,n,r,i){var a,u=t(t(t(e,r),(a=n,Object.prototype.toString.call(a))),typeof n);if(null===n)return t(u,"null");if(void 0===n)return t(u,"undefined");if("object"==typeof n||"function"==typeof n){if(-1!==i.indexOf(n))return t(u,"[Circular]"+r);i.push(n);var c=function(e,n,t){return Object.keys(n).sort().reduce(function(e,r){return o(e,n[r],r,t)},e)}(u,n,i);if(!("valueOf"in n)||"function"!=typeof n.valueOf)return c;try{return t(c,String(n.valueOf()))}catch(e){return t(c,"[valueOf exception]"+(e.stack||e.message))}}return t(u,n.toString())}var r=function(e){return function(e,n){for(;e.length<n;)e="0"+e;return e}(o(0,e,"",[]).toString(16),8)},i=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var a=function(){try{var e=new i("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?i:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t};!function(e){if(!e.origin){var n=e.protocol+"//"+e.hostname+(e.port&&":"+e.port);try{Object.defineProperty(e,"origin",{enumerable:!0,value:n})}catch(t){e.origin=n}}}(window.location);let u=null,c={};window===window.top&&s(u="",-1,window.location.origin);const l={LOADED:"_loaded",PROBE:"_probe",READY:"_ready",MESSAGE_RESPONSE:"_message_response"},f={};function s(e,n,t){const o={id:n,name:e};void 0!==t&&(o.origin=t),c[e]?Object.assign(c[e],o):c[e]=o}function d(e,n,t,o){return o=o||null,{messageId:e+":"+r(Date.now()+n+o),event:e,to:n,toOrigin:t,from:u,fromOrigin:window.location.origin,payload:o}}function m(e,n,t,o){const r=c[e];if(r){const i=d(n,e,r.origin,t),a=r.id<0?window.top:window.top.frames[r.id];a?g(a,r.origin,i,o):console.warn("target has been removed")}else console.warn("frame does not exist",e)}function g(e,n,t,o){o&&w(p(t.messageId),o),e.postMessage(JSON.stringify(t),n)}function w(e,n){f.hasOwnProperty(e)||(f[e]=[]),f[e].push(n)}function p(e){return l.MESSAGE_RESPONSE+":"+r(e)}if(window.addEventListener("message",e=>{if(e.data){let n;try{n=JSON.parse(e.data)}catch(e){return}if(["event","to","toOrigin","from","fromOrigin","payload"].every(e=>n.hasOwnProperty(e))&&!("*"!==n.toOrigin&&n.toOrigin!==window.location.origin||null!==u&&u!==n.to)&&f.hasOwnProperty(n.event)){const t=(t,o)=>{const r=d(p(n.messageId),n.from,n.fromOrigin,t);g(e.source,e.origin,r,o)};f[n.event].forEach(o=>{o(n.payload,t,e.source,e.origin)})}}}),window===window.top){window.MutationObserver?new MutationObserver(e=>{e.forEach(e=>{Array.from(e.removedNodes).filter(e=>e.nodeType===Node.ELEMENT_NODE).forEach(e=>{v(e.matches("iframe")?[e]:e.querySelectorAll("iframe"))})})}).observe(document,{subtree:!0,childList:!0}):document.addEventListener("DOMNodeRemoved",function(e){e.target.nodeType===Node.ELEMENT_NODE&&v(e.target.matches("iframe")?[e.target]:e.target.querySelectorAll("iframe"))});const e=n(function(){document.querySelectorAll("iframe").forEach(e=>{if(e.hasAttribute("courier-name")){const n=b(e);!1!==n&&s(e.getAttribute("courier-name"),n)}});const e=r(JSON.stringify(c));Object.keys(c).filter(e=>c[e].origin).forEach(n=>{m(n,l.PROBE,"hello "+e,(t,o)=>{t==="send "+e&&o({name:n,frames:c})})})},10);function v(n){n.length&&(n.forEach(e=>{if(e.hasAttribute("courier-name")){const n=e.getAttribute("courier-name");n&&c[n]&&delete c[n]}}),e())}function b(e){for(let n=0;n<window.frames.length;n++)if(e.contentWindow===window.frames[n])return n;return!1}w(l.LOADED,(n,t,o,r)=>{document.querySelectorAll("iframe").forEach(e=>{if(e.hasAttribute("courier-name")){const n=e.getAttribute("courier-name"),t=b(e);e.contentWindow===o&&!1!==t&&s(n,t,r)}}),e()})}else{g(window.top,"*",d(l.LOADED,"","*","hello"));let e=!1;w(l.PROBE,(n,t)=>{const o=r(JSON.stringify(c)),i=n.split(" ",2);o!==i[1]&&t("send "+i[1],n=>{u=n.name,c=n.frames,e||(e=!0,document.dispatchEvent(new a("frame-courier-ready",{detail:{name:u}})),m("",l.READY,u))})})}var y={listen:w,send:m,name:function(){return u}};window.FrameCourier=y}();
